<!DOCTYPE html>
<html lang="zh-Hant" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>萬華淡水親子遊互動旅遊指南</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Coastal Serenity -->
    <!-- Application Structure Plan: The SPA is designed as an interactive dashboard, moving away from the linear report format. The structure includes: 1. An Overview Dashboard for a quick summary. 2. A Tabbed Itinerary section (Day 1/Day 2) with expandable cards for detailed exploration, making the schedule easy to follow. 3. A Visual Budget section with an interactive chart for intuitive financial understanding. 4. An Interactive Workbook section that gamifies the educational content for children. This user-centric, non-linear structure was chosen to allow families to quickly access the information they need (e.g., just checking the budget, or just reviewing Day 2's plan) without scrolling through lengthy text, thus enhancing usability and engagement. -->
    <!-- Visualization & Content Choices: 
        - Report Info: Trip Summary -> Goal: Quick overview -> Viz: Large KPI cards (HTML/CSS) -> Interaction: None -> Justification: Immediately conveys the trip's key stats.
        - Report Info: Daily schedule -> Goal: Detailed planning -> Viz: Vertical timeline with expandable cards (HTML/CSS/JS) -> Interaction: Click to expand/collapse -> Justification: Organizes dense information cleanly, allowing users to drill down into details as needed without cluttering the UI.
        - Report Info: Budget breakdown -> Goal: Understand costs -> Viz: Donut Chart (Chart.js/Canvas) -> Interaction: Hover to see details -> Justification: Visually represents expense distribution more effectively than a table.
        - Report Info: Kids' workbook -> Goal: Engage children -> Viz: Interactive grid and quiz cards (HTML/CSS/JS) -> Interaction: Clickable bingo, reveal-answer buttons -> Justification: Transforms a static, printable document into a fun, interactive activity within the app.
        - Library/Method: TailwindCSS for styling, Chart.js for data visualization, and Vanilla JS for all interactions, confirming adherence to the NO SVG/Mermaid requirement. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #FFFCF5; /* A warm, very light cream, like bg-amber-50 */
            color: #44403C; /* stone-700 */
        }
        .nav-link {
            @apply px-4 py-2 text-stone-600 hover:text-teal-700 hover:bg-teal-50 rounded-lg transition-colors duration-300;
        }
        .nav-link.active {
            @apply font-bold text-teal-700 bg-teal-100;
        }
        .section-title {
            @apply text-3xl font-bold text-teal-800 mb-2;
        }
        .section-subtitle {
            @apply text-lg text-stone-600 mb-8;
        }
        .card {
            @apply bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300;
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            left: 1.25rem;
            top: 1.25rem;
            bottom: -1.25rem;
            width: 2px;
            background-color: #CCFBF1; /* teal-100 */
            transform: translateX(-50%);
        }
        .timeline-item:last-child::before {
            display: none;
        }
        .timeline-dot {
            @apply absolute left-5 top-5 w-5 h-5 rounded-full bg-teal-500 border-4 border-white shadow-md;
            transform: translateX(-50%);
        }
        .tab-btn {
            @apply px-6 py-3 text-lg font-semibold rounded-t-lg transition-all duration-300;
        }
        .tab-btn.active {
            @apply bg-white text-teal-600 shadow-md;
        }
        .tab-btn:not(.active) {
            @apply bg-teal-50 text-stone-500;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 450px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 450px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .workbook-card {
            @apply bg-amber-50 border-2 border-amber-200 p-6 rounded-xl h-full flex flex-col;
        }
    </style>
</head>
<body>

    <header class="bg-white/80 backdrop-blur-lg sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-6 py-3 flex justify-between items-center">
            <h1 class="text-xl font-bold text-teal-700">淡水關渡親子遊</h1>
            <div class="hidden md:flex items-center space-x-2">
                <a href="#overview" class="nav-link active">行程總覽</a>
                <a href="#itinerary" class="nav-link">每日行程</a>
                <a href="#budget" class="nav-link">預算與交通</a>
                <a href="#workbook" class="nav-link">探險家日誌</a>
            </div>
            <button id="mobile-menu-button" class="md:hidden text-stone-600">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-4 6h4"></path></svg>
            </button>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden px-6 pb-4">
             <a href="#overview" class="block py-2 nav-link text-center">行程總覽</a>
             <a href="#itinerary" class="block py-2 nav-link text-center">每日行程</a>
             <a href="#budget" class="block py-2 nav-link text-center">預算與交通</a>
             <a href="#workbook" class="block py-2 nav-link text-center">探險家日誌</a>
        </div>
    </header>

    <main class="container mx-auto px-6 py-12">

        <!-- Section: Overview -->
        <section id="overview" class="text-center mb-20">
            <h2 class="section-title">萬華出發，馳騁淡水關渡</h2>
            <p class="section-subtitle">一趟為期兩天一夜的夏日親子探索之旅</p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="card">
                    <h3 class="text-4xl font-bold text-teal-600 mb-2">2天1夜</h3>
                    <p class="text-stone-500">2025/8/1(五) - 8/2(六)</p>
                </div>
                <div class="card">
                    <h3 class="text-4xl font-bold text-teal-600 mb-2">2大2小</h3>
                    <p class="text-stone-500">家庭成員 (小四 & 小六)</p>
                </div>
                <div class="card">
                    <h3 class="text-4xl font-bold text-teal-600 mb-2">NT$ 14.8k+</h3>
                    <p class="text-stone-500">預估總花費</p>
                </div>
            </div>
             <div class="mt-12 text-left bg-white p-8 rounded-2xl shadow-lg">
                <h3 class="text-2xl font-bold text-teal-800 mb-4">旅程介紹：不只是一趟旅行</h3>
                <p class="text-stone-600 leading-relaxed">
                    這趟旅程不僅是一次單純的家庭出遊，更是一場穿越時光與自然的深度探索。我們將從萬華的都會脈動出發，駛向台北的西北角，那裡，淡水河與海洋溫柔交會，交織出數百年的歷史篇章。這份計畫旨在點燃孩子們心中對未知的好奇，讓他們化身為真正的探險家，發掘地理、人文與自然生態的奧秘。為了確保旅程輕鬆愉快，我們將貫徹核心策略：<strong class="text-teal-600">「一次停車，多元探索」</strong>，將寶貴時間投入在美好的回憶創造中。
                </p>
            </div>
        </section>

        <!-- Section: Itinerary -->
        <section id="itinerary" class="mb-20">
            <div class="text-center">
                <h2 class="section-title">每日行程</h2>
                <p class="section-subtitle">點擊下方卡片，查看各項活動的詳細規劃</p>
            </div>
            
            <div class="bg-teal-50/50 rounded-t-2xl p-2">
                <div class="flex justify-center border-b border-gray-200">
                    <button id="day1-tab" class="tab-btn active" data-day="1">第一天：生態與日落</button>
                    <button id="day2-tab" class="tab-btn" data-day="2">第二天：歷史與古蹟</button>
                </div>
            </div>
            
            <div id="itinerary-content" class="bg-white p-4 sm:p-8 rounded-b-2xl shadow-lg">
                <!-- Day 1 Content -->
                <div id="day-1" class="space-y-8"></div>
                <!-- Day 2 Content -->
                <div id="day-2" class="hidden space-y-8"></div>
            </div>
        </section>

        <!-- Section: Budget -->
        <section id="budget" class="mb-20">
            <div class="text-center">
                <h2 class="section-title">預算與交通規劃</h2>
                <p class="section-subtitle">一目了然的費用分析與關鍵停車策略</p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-start">
                <div class="card">
                    <h3 class="text-2xl font-bold text-teal-800 mb-4 text-center">預算分析</h3>
                    <div class="chart-container">
                        <canvas id="budgetChart"></canvas>
                    </div>
                </div>
                <div class="card">
                    <h3 class="text-2xl font-bold text-teal-800 mb-4">核心停車策略：「基地營」模式</h3>
                    <p class="text-stone-600 mb-6">本次行程成功的關鍵在於將車輛停放在飯店後，全程利用渡輪、捷運與步行，徹底避開假日淡水的交通夢魘。</p>
                    <div id="parking-info" class="space-y-4"></div>
                </div>
            </div>
        </section>

        <!-- Section: Workbook -->
        <section id="workbook">
            <div class="text-center">
                <h2 class="section-title">探險家日誌</h2>
                <p class="section-subtitle">為小小探險家設計的互動暑假作業</p>
            </div>
            <div id="workbook-content" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
        </section>

    </main>

    <footer class="bg-stone-800 text-white mt-20">
        <div class="container mx-auto px-6 py-8 text-center text-stone-400">
            <p>這是一份根據提供的行程規劃報告所生成的互動式網頁。</p>
            <p class="text-sm mt-2">© 2025 親子探索之旅</p>
        </div>
    </footer>

<script>
const AppData = {
    itinerary: {
        day1: [
            { time: '09:00 - 12:00', title: '關渡自然公園生態探險', icon: '🐦', details: '沉浸於北台灣最重要的濕地生態系，專注於夏季留鳥的觀察，如小白鷺、夜鷺、紅冠水雞及翠鳥。建議8:00從萬華出發避開車潮。公園停車場每小時40元，門票2全2優共180元。' },
            { time: '12:00 - 13:30', title: '關渡在地午餐', icon: '🍜', details: '輕鬆享用道地午餐。推薦選項有「阿成切仔麵」的傳統小吃、「L. Pasta義大利麵」或關渡碼頭貨櫃市集的多樣化美食。' },
            { time: '13:30 - 17:00', title: '飯店入住與設施暢玩', icon: '🏨', details: '驅車前往淡水福容大飯店，辦理入住並將車輛停妥(房客免費)。讓孩子在大型室內樂園「淡水阿熊勇闖歡樂島」盡情放電，大人也可享受戶外泳池與溫泉SPA，躲避炎熱午后。' },
            { time: '17:00 - 21:00', title: '情人橋日落與碼頭夜色', icon: '🌇', details: '從飯店步行至情人橋，欣賞淡水標誌性的落日美景。夜晚，橋上與周邊的七彩燈光營造出魔幻氛圍。晚餐可於碼頭商店街或飯店餐廳解決。' }
        ],
        day2: [
            { time: '09:00 - 12:30', title: '搭乘渡輪，航向歷史', icon: '⛴️', details: '早餐後，從漁人碼頭搭乘渡輪至淡水老街，航程本身就是一場河岸風光導覽。抵達後參觀紅毛城、小白宮等古蹟。購買80元成人票可「一票通」參觀三處古蹟，12歲以下兒童免費。' },
            { time: '12:30 - 14:00', title: '淡水老街美食大探索', icon: '🍢', details: '品嚐淡水最經典的在地小吃。必嚐清單包括源於日文「油炸豆皮」的「阿給」、展現漁村智慧的「魚丸」與「魚酥」，以及「阿香蝦捲」、「古早味蛋糕」等。' },
            { time: '14:00 - 16:00', title: '紅樹林生態步道', icon: '🌿', details: '從淡水站搭乘捷運一站至紅樹林站，近距離觀察珍貴的「水筆仔」濕地生態。尋找揮舞大螯的「招潮蟹」和能在泥灘上行走的「彈塗魚」，了解紅樹林作為「大地之腎」的重要性。' },
            { time: '16:00 -', title: '滿載而歸', icon: '🚗', details: '結束紅樹林步道探索後，搭捷運轉渡輪回到漁人碼頭，從飯店取車，心滿意足地驅車返回萬華，為豐富的旅程劃下完美句點。' }
        ]
    },
    parking: [
        { location: '關渡自然公園', rate: 'NT$40/小時', spots: 57, strategy: '<strong>策略：</strong>上午9點開門即抵達，確保有車位。僅停留此處。' },
        { location: '福容大飯店', rate: '房客免費', spots: 108, strategy: '<strong>核心策略：</strong>此處為旅程主要停車點，入住後不再移動車輛。' },
        { location: '淡水捷運站', rate: 'NT$60/小時(假日)', spots: 553, strategy: '<strong>備用方案：</strong>僅在渡輪停駛等特殊情況下考慮使用。' },
        { location: '紅毛城停車場', rate: '費率變動', spots: '有限', strategy: '<strong>不建議：</strong>週末車位極少，應採用渡輪策略。' }
    ],
    budget: {
        labels: ['住宿', '餐飲', '景點門票', '交通', '停車', '雜項'],
        data: [12250, 3500, 340, 340, 120, 750],
        totalMin: 14800,
        totalMax: 19260
    },
    workbook: [
        { title: '探險家檔案', type: 'intro', content: '你的任務是深入探索淡水與關渡，發掘這裡隱藏的歷史秘密、認識奇特的自然生態，並品嚐流傳已久的特色美食！準備好就出發吧！', icon: '🗺️' },
        { title: '賞鳥賓果樂', type: 'bingo', items: ['小白鷺', '夜鷺', '紅冠水雞', '翠鳥', '蒼鷺', '黃頭鷺', '埃及聖䴉', '磯鷸', '小水鴨'], icon: '🐦' },
        { title: '濕地偵探筆記', type: 'question', question: '大家都說濕地是「地球的腎臟」，它幫我們過濾髒水。你覺得保護濕地為什麼這麼重要呢？', icon: '💧' },
        { title: '紅毛城歷史偵探', type: 'quiz', question: '紅毛城最早是西班牙人蓋的，後來被荷蘭人搶走了。你知道「紅毛」指的是哪國人嗎？', answer: '荷蘭人。', icon: '🏰' },
        { title: '點心背後的故事', type: 'story', question: '「阿給」的名字來自日文的「油豆腐」。這個故事告訴我們以前的生活是怎麼樣的呢？', icon: '😋' },
        { title: '生態探險家清單', type: 'checklist', items: ['揮舞大螯的「招潮蟹」', '在泥巴上走路的「彈塗魚」', '掛在樹上像筆的「胎生苗」'], icon: '🦀' }
    ]
};

document.addEventListener('DOMContentLoaded', () => {
    
    function createTimelineItem(item, index) {
        return `
            <div class="relative timeline-item pl-12 pb-8 cursor-pointer expandable-card">
                <div class="timeline-dot"></div>
                <div class="card p-0 overflow-hidden">
                    <div class="p-6">
                        <p class="text-sm font-semibold text-teal-600">${item.time}</p>
                        <h4 class="text-xl font-bold text-stone-800 flex items-center">${item.icon} <span class="ml-2">${item.title}</span></h4>
                    </div>
                    <div class="details hidden bg-teal-50/50 px-6 py-4">
                         <p class="text-stone-600">${item.details}</p>
                    </div>
                </div>
            </div>
        `;
    }

    const day1Container = document.getElementById('day-1');
    const day2Container = document.getElementById('day-2');
    AppData.itinerary.day1.forEach((item, index) => {
        day1Container.innerHTML += createTimelineItem(item, index);
    });
    AppData.itinerary.day2.forEach((item, index) => {
        day2Container.innerHTML += createTimelineItem(item, index);
    });

    const itineraryContent = document.getElementById('itinerary-content');
    itineraryContent.addEventListener('click', (e) => {
        const card = e.target.closest('.expandable-card');
        if (card) {
            card.querySelector('.details').classList.toggle('hidden');
        }
    });
    
    const day1Tab = document.getElementById('day1-tab');
    const day2Tab = document.getElementById('day2-tab');
    day1Tab.addEventListener('click', () => {
        day1Container.classList.remove('hidden');
        day2Container.classList.add('hidden');
        day1Tab.classList.add('active');
        day2Tab.classList.remove('active');
    });
    day2Tab.addEventListener('click', () => {
        day1Container.classList.add('hidden');
        day2Container.classList.remove('hidden');
        day2Tab.classList.add('active');
        day1Tab.classList.remove('active');
    });

    const parkingContainer = document.getElementById('parking-info');
    AppData.parking.forEach(p => {
        parkingContainer.innerHTML += `
            <div class="bg-stone-50 p-4 rounded-lg border border-stone-200">
                <div class="flex justify-between items-center font-bold text-stone-700">
                    <span>${p.location}</span>
                    <span>${p.rate}</span>
                </div>
                <p class="text-sm text-stone-500 mt-2">${p.strategy}</p>
            </div>
        `;
    });

    const budgetCtx = document.getElementById('budgetChart').getContext('2d');
    new Chart(budgetCtx, {
        type: 'doughnut',
        data: {
            labels: AppData.budget.labels,
            datasets: [{
                label: '預算分配',
                data: AppData.budget.data,
                backgroundColor: [
                    '#0D9488', // teal-600
                    '#14B8A6', // teal-500
                    '#5EEAD4', // teal-300
                    '#99F6E4', // teal-200
                    '#FDE68A', // amber-200
                    '#FCD34D'  // amber-300
                ],
                borderColor: '#FFFCF5',
                borderWidth: 4
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'bottom',
                },
                tooltip: {
                    callbacks: {
                        label: function(context) {
                            let label = context.label || '';
                            if (label) {
                                label += ': ';
                            }
                            if (context.parsed !== null) {
                                label += new Intl.NumberFormat('zh-TW', { style: 'currency', currency: 'TWD', minimumFractionDigits: 0 }).format(context.parsed);
                            }
                            return label;
                        }
                    }
                }
            }
        }
    });

    const workbookContainer = document.getElementById('workbook-content');
    AppData.workbook.forEach(item => {
        let contentHtml = '';
        if (item.type === 'intro' || item.type === 'story' || item.type === 'question') {
            contentHtml = `<p class="text-stone-600 flex-grow">${item.content}</p>`;
        } else if (item.type === 'bingo') {
            const itemsHtml = item.items.map(bingoItem => 
                `<button class="bingo-item bg-white text-stone-600 p-2 rounded-md text-sm hover:bg-teal-100 transition-colors">${bingoItem}</button>`
            ).join('');
            contentHtml = `<div class="grid grid-cols-3 gap-2 flex-grow">${itemsHtml}</div>`;
        } else if (item.type === 'checklist') {
             const itemsHtml = item.items.map(checkItem => 
                `<label class="flex items-center space-x-2 text-stone-700">
                    <input type="checkbox" class="h-4 w-4 rounded border-gray-300 text-teal-600 focus:ring-teal-500">
                    <span>${checkItem}</span>
                </label>`
            ).join('');
            contentHtml = `<div class="space-y-2 flex-grow">${itemsHtml}</div>`;
        } else if (item.type === 'quiz') {
            contentHtml = `
                <p class="text-stone-600 mb-4 flex-grow">${item.question}</p>
                <button class="quiz-btn bg-teal-500 text-white px-4 py-2 rounded-lg hover:bg-teal-600 transition-colors text-sm">點我看答案</button>
                <p class="quiz-answer hidden mt-2 p-2 bg-teal-100 rounded-md text-teal-800">${item.answer}</p>
            `;
        }

        workbookContainer.innerHTML += `
            <div class="workbook-card">
                <h4 class="text-xl font-bold text-stone-800 flex items-center mb-4">${item.icon} <span class="ml-2">${item.title}</span></h4>
                ${contentHtml}
            </div>
        `;
    });

    workbookContainer.addEventListener('click', e => {
        if (e.target.classList.contains('quiz-btn')) {
            const answer = e.target.nextElementSibling;
            answer.classList.toggle('hidden');
            e.target.textContent = answer.classList.contains('hidden') ? '點我看答案' : '隱藏答案';
        }
        if (e.target.classList.contains('bingo-item')) {
            e.target.classList.toggle('bg-teal-200');
            e.target.classList.toggle('font-bold');
        }
    });
    
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');
    mobileMenuButton.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
    });

    const navLinks = document.querySelectorAll('.nav-link');
    const sections = document.querySelectorAll('main section');
    window.addEventListener('scroll', () => {
        let current = '';
        sections.forEach(section => {
            const sectionTop = section.offsetTop;
            if (pageYOffset >= sectionTop - 70) {
                current = section.getAttribute('id');
            }
        });

        navLinks.forEach(link => {
            link.classList.remove('active');
            if (link.getAttribute('href').includes(current)) {
                link.classList.add('active');
            }
        });
    });
});
</script>

</body>
</html>
