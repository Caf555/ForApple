<!DOCTYPE html>
<html lang="zh-Hant" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¬è¯æ·¡æ°´è¦ªå­éŠäº’å‹•æ—…éŠæŒ‡å—</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Coastal Serenity -->
    <!-- Application Structure Plan: The SPA is designed as an interactive dashboard, moving away from the linear report format. The structure includes: 1. An Overview Dashboard for a quick summary. 2. A Tabbed Itinerary section (Day 1/Day 2) with expandable cards for detailed exploration, making the schedule easy to follow. 3. A Visual Budget section with an interactive chart for intuitive financial understanding. 4. An Interactive Workbook section that gamifies the educational content for children. This user-centric, non-linear structure was chosen to allow families to quickly access the information they need (e.g., just checking the budget, or just reviewing Day 2's plan) without scrolling through lengthy text, thus enhancing usability and engagement. -->
    <!-- Visualization & Content Choices: 
        - Report Info: Trip Summary -> Goal: Quick overview -> Viz: Large KPI cards (HTML/CSS) -> Interaction: None -> Justification: Immediately conveys the trip's key stats.
        - Report Info: Daily schedule -> Goal: Detailed planning -> Viz: Vertical timeline with expandable cards (HTML/CSS/JS) -> Interaction: Click to expand/collapse -> Justification: Organizes dense information cleanly, allowing users to drill down into details as needed without cluttering the UI.
        - Report Info: Budget breakdown -> Goal: Understand costs -> Viz: Donut Chart (Chart.js/Canvas) -> Interaction: Hover to see details -> Justification: Visually represents expense distribution more effectively than a table.
        - Report Info: Kids' workbook -> Goal: Engage children -> Viz: Interactive grid and quiz cards (HTML/CSS/JS) -> Interaction: Clickable bingo, reveal-answer buttons -> Justification: Transforms a static, printable document into a fun, interactive activity within the app.
        - Library/Method: TailwindCSS for styling, Chart.js for data visualization, and Vanilla JS for all interactions, confirming adherence to the NO SVG/Mermaid requirement. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #FFFCF5; /* A warm, very light cream, like bg-amber-50 */
            color: #44403C; /* stone-700 */
        }
        .nav-link {
            @apply px-4 py-2 text-stone-600 hover:text-teal-700 hover:bg-teal-50 rounded-lg transition-colors duration-300;
        }
        .nav-link.active {
            @apply font-bold text-teal-700 bg-teal-100;
        }
        .section-title {
            @apply text-3xl font-bold text-teal-800 mb-2;
        }
        .section-subtitle {
            @apply text-lg text-stone-600 mb-8;
        }
        .card {
            @apply bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300;
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            left: 1.25rem;
            top: 1.25rem;
            bottom: -1.25rem;
            width: 2px;
            background-color: #CCFBF1; /* teal-100 */
            transform: translateX(-50%);
        }
        .timeline-item:last-child::before {
            display: none;
        }
        .timeline-dot {
            @apply absolute left-5 top-5 w-5 h-5 rounded-full bg-teal-500 border-4 border-white shadow-md;
            transform: translateX(-50%);
        }
        .tab-btn {
            @apply px-6 py-3 text-lg font-semibold rounded-t-lg transition-all duration-300;
        }
        .tab-btn.active {
            @apply bg-white text-teal-600 shadow-md;
        }
        .tab-btn:not(.active) {
            @apply bg-teal-50 text-stone-500;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 450px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 450px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .workbook-card {
            @apply bg-amber-50 border-2 border-amber-200 p-6 rounded-xl h-full flex flex-col;
        }
    </style>
</head>
<body>

    <header class="bg-white/80 backdrop-blur-lg sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-6 py-3 flex justify-between items-center">
            <h1 class="text-xl font-bold text-teal-700">æ·¡æ°´é—œæ¸¡è¦ªå­éŠ</h1>
            <div class="hidden md:flex items-center space-x-2">
                <a href="#overview" class="nav-link active">è¡Œç¨‹ç¸½è¦½</a>
                <a href="#itinerary" class="nav-link">æ¯æ—¥è¡Œç¨‹</a>
                <a href="#budget" class="nav-link">é ç®—èˆ‡äº¤é€š</a>
                <a href="#workbook" class="nav-link">æ¢éšªå®¶æ—¥èªŒ</a>
            </div>
            <button id="mobile-menu-button" class="md:hidden text-stone-600">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-4 6h4"></path></svg>
            </button>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden px-6 pb-4">
             <a href="#overview" class="block py-2 nav-link text-center">è¡Œç¨‹ç¸½è¦½</a>
             <a href="#itinerary" class="block py-2 nav-link text-center">æ¯æ—¥è¡Œç¨‹</a>
             <a href="#budget" class="block py-2 nav-link text-center">é ç®—èˆ‡äº¤é€š</a>
             <a href="#workbook" class="block py-2 nav-link text-center">æ¢éšªå®¶æ—¥èªŒ</a>
        </div>
    </header>

    <main class="container mx-auto px-6 py-12">

        <!-- Section: Overview -->
        <section id="overview" class="text-center mb-20">
            <h2 class="section-title">è¬è¯å‡ºç™¼ï¼Œé¦³é¨æ·¡æ°´é—œæ¸¡</h2>
            <p class="section-subtitle">ä¸€è¶Ÿç‚ºæœŸå…©å¤©ä¸€å¤œçš„å¤æ—¥è¦ªå­æ¢ç´¢ä¹‹æ—…</p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="card">
                    <h3 class="text-4xl font-bold text-teal-600 mb-2">2å¤©1å¤œ</h3>
                    <p class="text-stone-500">2025/8/1(äº”) - 8/2(å…­)</p>
                </div>
                <div class="card">
                    <h3 class="text-4xl font-bold text-teal-600 mb-2">2å¤§2å°</h3>
                    <p class="text-stone-500">å®¶åº­æˆå“¡ (å°å›› & å°å…­)</p>
                </div>
                <div class="card">
                    <h3 class="text-4xl font-bold text-teal-600 mb-2">NT$ 14.8k+</h3>
                    <p class="text-stone-500">é ä¼°ç¸½èŠ±è²»</p>
                </div>
            </div>
             <div class="mt-12 text-left bg-white p-8 rounded-2xl shadow-lg">
                <h3 class="text-2xl font-bold text-teal-800 mb-4">æ—…ç¨‹ä»‹ç´¹ï¼šä¸åªæ˜¯ä¸€è¶Ÿæ—…è¡Œ</h3>
                <p class="text-stone-600 leading-relaxed">
                    é€™è¶Ÿæ—…ç¨‹ä¸åƒ…æ˜¯ä¸€æ¬¡å–®ç´”çš„å®¶åº­å‡ºéŠï¼Œæ›´æ˜¯ä¸€å ´ç©¿è¶Šæ™‚å…‰èˆ‡è‡ªç„¶çš„æ·±åº¦æ¢ç´¢ã€‚æˆ‘å€‘å°‡å¾è¬è¯çš„éƒ½æœƒè„ˆå‹•å‡ºç™¼ï¼Œé§›å‘å°åŒ—çš„è¥¿åŒ—è§’ï¼Œé‚£è£¡ï¼Œæ·¡æ°´æ²³èˆ‡æµ·æ´‹æº«æŸ”äº¤æœƒï¼Œäº¤ç¹”å‡ºæ•¸ç™¾å¹´çš„æ­·å²ç¯‡ç« ã€‚é€™ä»½è¨ˆç•«æ—¨åœ¨é»ç‡ƒå­©å­å€‘å¿ƒä¸­å°æœªçŸ¥çš„å¥½å¥‡ï¼Œè®“ä»–å€‘åŒ–èº«ç‚ºçœŸæ­£çš„æ¢éšªå®¶ï¼Œç™¼æ˜åœ°ç†ã€äººæ–‡èˆ‡è‡ªç„¶ç”Ÿæ…‹çš„å¥§ç§˜ã€‚ç‚ºäº†ç¢ºä¿æ—…ç¨‹è¼•é¬†æ„‰å¿«ï¼Œæˆ‘å€‘å°‡è²«å¾¹æ ¸å¿ƒç­–ç•¥ï¼š<strong class="text-teal-600">ã€Œä¸€æ¬¡åœè»Šï¼Œå¤šå…ƒæ¢ç´¢ã€</strong>ï¼Œå°‡å¯¶è²´æ™‚é–“æŠ•å…¥åœ¨ç¾å¥½çš„å›æ†¶å‰µé€ ä¸­ã€‚
                </p>
            </div>
        </section>

        <!-- Section: Itinerary -->
        <section id="itinerary" class="mb-20">
            <div class="text-center">
                <h2 class="section-title">æ¯æ—¥è¡Œç¨‹</h2>
                <p class="section-subtitle">é»æ“Šä¸‹æ–¹å¡ç‰‡ï¼ŒæŸ¥çœ‹å„é …æ´»å‹•çš„è©³ç´°è¦åŠƒ</p>
            </div>
            
            <div class="bg-teal-50/50 rounded-t-2xl p-2">
                <div class="flex justify-center border-b border-gray-200">
                    <button id="day1-tab" class="tab-btn active" data-day="1">ç¬¬ä¸€å¤©ï¼šç”Ÿæ…‹èˆ‡æ—¥è½</button>
                    <button id="day2-tab" class="tab-btn" data-day="2">ç¬¬äºŒå¤©ï¼šæ­·å²èˆ‡å¤è¹Ÿ</button>
                </div>
            </div>
            
            <div id="itinerary-content" class="bg-white p-4 sm:p-8 rounded-b-2xl shadow-lg">
                <!-- Day 1 Content -->
                <div id="day-1" class="space-y-8"></div>
                <!-- Day 2 Content -->
                <div id="day-2" class="hidden space-y-8"></div>
            </div>
        </section>

        <!-- Section: Budget -->
        <section id="budget" class="mb-20">
            <div class="text-center">
                <h2 class="section-title">é ç®—èˆ‡äº¤é€šè¦åŠƒ</h2>
                <p class="section-subtitle">ä¸€ç›®äº†ç„¶çš„è²»ç”¨åˆ†æèˆ‡é—œéµåœè»Šç­–ç•¥</p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-start">
                <div class="card">
                    <h3 class="text-2xl font-bold text-teal-800 mb-4 text-center">é ç®—åˆ†æ</h3>
                    <div class="chart-container">
                        <canvas id="budgetChart"></canvas>
                    </div>
                </div>
                <div class="card">
                    <h3 class="text-2xl font-bold text-teal-800 mb-4">æ ¸å¿ƒåœè»Šç­–ç•¥ï¼šã€ŒåŸºåœ°ç‡Ÿã€æ¨¡å¼</h3>
                    <p class="text-stone-600 mb-6">æœ¬æ¬¡è¡Œç¨‹æˆåŠŸçš„é—œéµåœ¨æ–¼å°‡è»Šè¼›åœæ”¾åœ¨é£¯åº—å¾Œï¼Œå…¨ç¨‹åˆ©ç”¨æ¸¡è¼ªã€æ·é‹èˆ‡æ­¥è¡Œï¼Œå¾¹åº•é¿é–‹å‡æ—¥æ·¡æ°´çš„äº¤é€šå¤¢é­˜ã€‚</p>
                    <div id="parking-info" class="space-y-4"></div>
                </div>
            </div>
        </section>

        <!-- Section: Workbook -->
        <section id="workbook">
            <div class="text-center">
                <h2 class="section-title">æ¢éšªå®¶æ—¥èªŒ</h2>
                <p class="section-subtitle">ç‚ºå°å°æ¢éšªå®¶è¨­è¨ˆçš„äº’å‹•æš‘å‡ä½œæ¥­</p>
            </div>
            <div id="workbook-content" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
        </section>

    </main>

    <footer class="bg-stone-800 text-white mt-20">
        <div class="container mx-auto px-6 py-8 text-center text-stone-400">
            <p>é€™æ˜¯ä¸€ä»½æ ¹æ“šæä¾›çš„è¡Œç¨‹è¦åŠƒå ±å‘Šæ‰€ç”Ÿæˆçš„äº’å‹•å¼ç¶²é ã€‚</p>
            <p class="text-sm mt-2">Â© 2025 è¦ªå­æ¢ç´¢ä¹‹æ—…</p>
        </div>
    </footer>

<script>
const AppData = {
    itinerary: {
        day1: [
            { time: '09:00 - 12:00', title: 'é—œæ¸¡è‡ªç„¶å…¬åœ’ç”Ÿæ…‹æ¢éšª', icon: 'ğŸ¦', details: 'æ²‰æµ¸æ–¼åŒ—å°ç£æœ€é‡è¦çš„æ¿•åœ°ç”Ÿæ…‹ç³»ï¼Œå°ˆæ³¨æ–¼å¤å­£ç•™é³¥çš„è§€å¯Ÿï¼Œå¦‚å°ç™½é·ºã€å¤œé·ºã€ç´…å† æ°´é›åŠç¿ é³¥ã€‚å»ºè­°8:00å¾è¬è¯å‡ºç™¼é¿é–‹è»Šæ½®ã€‚å…¬åœ’åœè»Šå ´æ¯å°æ™‚40å…ƒï¼Œé–€ç¥¨2å…¨2å„ªå…±180å…ƒã€‚' },
            { time: '12:00 - 13:30', title: 'é—œæ¸¡åœ¨åœ°åˆé¤', icon: 'ğŸœ', details: 'è¼•é¬†äº«ç”¨é“åœ°åˆé¤ã€‚æ¨è–¦é¸é …æœ‰ã€Œé˜¿æˆåˆ‡ä»”éºµã€çš„å‚³çµ±å°åƒã€ã€ŒL. Pastaç¾©å¤§åˆ©éºµã€æˆ–é—œæ¸¡ç¢¼é ­è²¨æ«ƒå¸‚é›†çš„å¤šæ¨£åŒ–ç¾é£Ÿã€‚' },
            { time: '13:30 - 17:00', title: 'é£¯åº—å…¥ä½èˆ‡è¨­æ–½æš¢ç©', icon: 'ğŸ¨', details: 'é©…è»Šå‰å¾€æ·¡æ°´ç¦å®¹å¤§é£¯åº—ï¼Œè¾¦ç†å…¥ä½ä¸¦å°‡è»Šè¼›åœå¦¥(æˆ¿å®¢å…è²»)ã€‚è®“å­©å­åœ¨å¤§å‹å®¤å…§æ¨‚åœ’ã€Œæ·¡æ°´é˜¿ç†Šå‹‡é—–æ­¡æ¨‚å³¶ã€ç›¡æƒ…æ”¾é›»ï¼Œå¤§äººä¹Ÿå¯äº«å—æˆ¶å¤–æ³³æ± èˆ‡æº«æ³‰SPAï¼Œèº²é¿ç‚ç†±åˆåã€‚' },
            { time: '17:00 - 21:00', title: 'æƒ…äººæ©‹æ—¥è½èˆ‡ç¢¼é ­å¤œè‰²', icon: 'ğŸŒ‡', details: 'å¾é£¯åº—æ­¥è¡Œè‡³æƒ…äººæ©‹ï¼Œæ¬£è³æ·¡æ°´æ¨™èªŒæ€§çš„è½æ—¥ç¾æ™¯ã€‚å¤œæ™šï¼Œæ©‹ä¸Šèˆ‡å‘¨é‚Šçš„ä¸ƒå½©ç‡ˆå…‰ç‡Ÿé€ å‡ºé­”å¹»æ°›åœã€‚æ™šé¤å¯æ–¼ç¢¼é ­å•†åº—è¡—æˆ–é£¯åº—é¤å»³è§£æ±ºã€‚' }
        ],
        day2: [
            { time: '09:00 - 12:30', title: 'æ­ä¹˜æ¸¡è¼ªï¼Œèˆªå‘æ­·å²', icon: 'â›´ï¸', details: 'æ—©é¤å¾Œï¼Œå¾æ¼äººç¢¼é ­æ­ä¹˜æ¸¡è¼ªè‡³æ·¡æ°´è€è¡—ï¼Œèˆªç¨‹æœ¬èº«å°±æ˜¯ä¸€å ´æ²³å²¸é¢¨å…‰å°è¦½ã€‚æŠµé”å¾Œåƒè§€ç´…æ¯›åŸã€å°ç™½å®®ç­‰å¤è¹Ÿã€‚è³¼è²·80å…ƒæˆäººç¥¨å¯ã€Œä¸€ç¥¨é€šã€åƒè§€ä¸‰è™•å¤è¹Ÿï¼Œ12æ­²ä»¥ä¸‹å…’ç«¥å…è²»ã€‚' },
            { time: '12:30 - 14:00', title: 'æ·¡æ°´è€è¡—ç¾é£Ÿå¤§æ¢ç´¢', icon: 'ğŸ¢', details: 'å“åšæ·¡æ°´æœ€ç¶“å…¸çš„åœ¨åœ°å°åƒã€‚å¿…åšæ¸…å–®åŒ…æ‹¬æºæ–¼æ—¥æ–‡ã€Œæ²¹ç‚¸è±†çš®ã€çš„ã€Œé˜¿çµ¦ã€ã€å±•ç¾æ¼æ‘æ™ºæ…§çš„ã€Œé­šä¸¸ã€èˆ‡ã€Œé­šé…¥ã€ï¼Œä»¥åŠã€Œé˜¿é¦™è¦æ²ã€ã€ã€Œå¤æ—©å‘³è›‹ç³•ã€ç­‰ã€‚' },
            { time: '14:00 - 16:00', title: 'ç´…æ¨¹æ—ç”Ÿæ…‹æ­¥é“', icon: 'ğŸŒ¿', details: 'å¾æ·¡æ°´ç«™æ­ä¹˜æ·é‹ä¸€ç«™è‡³ç´…æ¨¹æ—ç«™ï¼Œè¿‘è·é›¢è§€å¯Ÿçè²´çš„ã€Œæ°´ç­†ä»”ã€æ¿•åœ°ç”Ÿæ…‹ã€‚å°‹æ‰¾æ®èˆå¤§è¯çš„ã€Œæ‹›æ½®èŸ¹ã€å’Œèƒ½åœ¨æ³¥ç˜ä¸Šè¡Œèµ°çš„ã€Œå½ˆå¡—é­šã€ï¼Œäº†è§£ç´…æ¨¹æ—ä½œç‚ºã€Œå¤§åœ°ä¹‹è…ã€çš„é‡è¦æ€§ã€‚' },
            { time: '16:00 -', title: 'æ»¿è¼‰è€Œæ­¸', icon: 'ğŸš—', details: 'çµæŸç´…æ¨¹æ—æ­¥é“æ¢ç´¢å¾Œï¼Œæ­æ·é‹è½‰æ¸¡è¼ªå›åˆ°æ¼äººç¢¼é ­ï¼Œå¾é£¯åº—å–è»Šï¼Œå¿ƒæ»¿æ„è¶³åœ°é©…è»Šè¿”å›è¬è¯ï¼Œç‚ºè±å¯Œçš„æ—…ç¨‹åŠƒä¸‹å®Œç¾å¥é»ã€‚' }
        ]
    },
    parking: [
        { location: 'é—œæ¸¡è‡ªç„¶å…¬åœ’', rate: 'NT$40/å°æ™‚', spots: 57, strategy: '<strong>ç­–ç•¥ï¼š</strong>ä¸Šåˆ9é»é–‹é–€å³æŠµé”ï¼Œç¢ºä¿æœ‰è»Šä½ã€‚åƒ…åœç•™æ­¤è™•ã€‚' },
        { location: 'ç¦å®¹å¤§é£¯åº—', rate: 'æˆ¿å®¢å…è²»', spots: 108, strategy: '<strong>æ ¸å¿ƒç­–ç•¥ï¼š</strong>æ­¤è™•ç‚ºæ—…ç¨‹ä¸»è¦åœè»Šé»ï¼Œå…¥ä½å¾Œä¸å†ç§»å‹•è»Šè¼›ã€‚' },
        { location: 'æ·¡æ°´æ·é‹ç«™', rate: 'NT$60/å°æ™‚(å‡æ—¥)', spots: 553, strategy: '<strong>å‚™ç”¨æ–¹æ¡ˆï¼š</strong>åƒ…åœ¨æ¸¡è¼ªåœé§›ç­‰ç‰¹æ®Šæƒ…æ³ä¸‹è€ƒæ…®ä½¿ç”¨ã€‚' },
        { location: 'ç´…æ¯›åŸåœè»Šå ´', rate: 'è²»ç‡è®Šå‹•', spots: 'æœ‰é™', strategy: '<strong>ä¸å»ºè­°ï¼š</strong>é€±æœ«è»Šä½æ¥µå°‘ï¼Œæ‡‰æ¡ç”¨æ¸¡è¼ªç­–ç•¥ã€‚' }
    ],
    budget: {
        labels: ['ä½å®¿', 'é¤é£²', 'æ™¯é»é–€ç¥¨', 'äº¤é€š', 'åœè»Š', 'é›œé …'],
        data: [12250, 3500, 340, 340, 120, 750],
        totalMin: 14800,
        totalMax: 19260
    },
    workbook: [
        { title: 'æ¢éšªå®¶æª”æ¡ˆ', type: 'intro', content: 'ä½ çš„ä»»å‹™æ˜¯æ·±å…¥æ¢ç´¢æ·¡æ°´èˆ‡é—œæ¸¡ï¼Œç™¼æ˜é€™è£¡éš±è—çš„æ­·å²ç§˜å¯†ã€èªè­˜å¥‡ç‰¹çš„è‡ªç„¶ç”Ÿæ…‹ï¼Œä¸¦å“åšæµå‚³å·²ä¹…çš„ç‰¹è‰²ç¾é£Ÿï¼æº–å‚™å¥½å°±å‡ºç™¼å§ï¼', icon: 'ğŸ—ºï¸' },
        { title: 'è³é³¥è³“æœæ¨‚', type: 'bingo', items: ['å°ç™½é·º', 'å¤œé·º', 'ç´…å† æ°´é›', 'ç¿ é³¥', 'è’¼é·º', 'é»ƒé ­é·º', 'åŸƒåŠè–ä´‰', 'ç£¯é·¸', 'å°æ°´é´¨'], icon: 'ğŸ¦' },
        { title: 'æ¿•åœ°åµæ¢ç­†è¨˜', type: 'question', question: 'å¤§å®¶éƒ½èªªæ¿•åœ°æ˜¯ã€Œåœ°çƒçš„è…è‡Ÿã€ï¼Œå®ƒå¹«æˆ‘å€‘éæ¿¾é«’æ°´ã€‚ä½ è¦ºå¾—ä¿è­·æ¿•åœ°ç‚ºä»€éº¼é€™éº¼é‡è¦å‘¢ï¼Ÿ', icon: 'ğŸ’§' },
        { title: 'ç´…æ¯›åŸæ­·å²åµæ¢', type: 'quiz', question: 'ç´…æ¯›åŸæœ€æ—©æ˜¯è¥¿ç­ç‰™äººè“‹çš„ï¼Œå¾Œä¾†è¢«è·è˜­äººæ¶èµ°äº†ã€‚ä½ çŸ¥é“ã€Œç´…æ¯›ã€æŒ‡çš„æ˜¯å“ªåœ‹äººå—ï¼Ÿ', answer: 'è·è˜­äººã€‚', icon: 'ğŸ°' },
        { title: 'é»å¿ƒèƒŒå¾Œçš„æ•…äº‹', type: 'story', question: 'ã€Œé˜¿çµ¦ã€çš„åå­—ä¾†è‡ªæ—¥æ–‡çš„ã€Œæ²¹è±†è…ã€ã€‚é€™å€‹æ•…äº‹å‘Šè¨´æˆ‘å€‘ä»¥å‰çš„ç”Ÿæ´»æ˜¯æ€éº¼æ¨£çš„å‘¢ï¼Ÿ', icon: 'ğŸ˜‹' },
        { title: 'ç”Ÿæ…‹æ¢éšªå®¶æ¸…å–®', type: 'checklist', items: ['æ®èˆå¤§è¯çš„ã€Œæ‹›æ½®èŸ¹ã€', 'åœ¨æ³¥å·´ä¸Šèµ°è·¯çš„ã€Œå½ˆå¡—é­šã€', 'æ›åœ¨æ¨¹ä¸Šåƒç­†çš„ã€Œèƒç”Ÿè‹—ã€'], icon: 'ğŸ¦€' }
    ]
};

document.addEventListener('DOMContentLoaded', () => {
    
    function createTimelineItem(item, index) {
        return `
            <div class="relative timeline-item pl-12 pb-8 cursor-pointer expandable-card">
                <div class="timeline-dot"></div>
                <div class="card p-0 overflow-hidden">
                    <div class="p-6">
                        <p class="text-sm font-semibold text-teal-600">${item.time}</p>
                        <h4 class="text-xl font-bold text-stone-800 flex items-center">${item.icon} <span class="ml-2">${item.title}</span></h4>
                    </div>
                    <div class="details hidden bg-teal-50/50 px-6 py-4">
                         <p class="text-stone-600">${item.details}</p>
                    </div>
                </div>
            </div>
        `;
    }

    const day1Container = document.getElementById('day-1');
    const day2Container = document.getElementById('day-2');
    AppData.itinerary.day1.forEach((item, index) => {
        day1Container.innerHTML += createTimelineItem(item, index);
    });
    AppData.itinerary.day2.forEach((item, index) => {
        day2Container.innerHTML += createTimelineItem(item, index);
    });

    const itineraryContent = document.getElementById('itinerary-content');
    itineraryContent.addEventListener('click', (e) => {
        const card = e.target.closest('.expandable-card');
        if (card) {
            card.querySelector('.details').classList.toggle('hidden');
        }
    });
    
    const day1Tab = document.getElementById('day1-tab');
    const day2Tab = document.getElementById('day2-tab');
    day1Tab.addEventListener('click', () => {
        day1Container.classList.remove('hidden');
        day2Container.classList.add('hidden');
        day1Tab.classList.add('active');
        day2Tab.classList.remove('active');
    });
    day2Tab.addEventListener('click', () => {
        day1Container.classList.add('hidden');
        day2Container.classList.remove('hidden');
        day2Tab.classList.add('active');
        day1Tab.classList.remove('active');
    });

    const parkingContainer = document.getElementById('parking-info');
    AppData.parking.forEach(p => {
        parkingContainer.innerHTML += `
            <div class="bg-stone-50 p-4 rounded-lg border border-stone-200">
                <div class="flex justify-between items-center font-bold text-stone-700">
                    <span>${p.location}</span>
                    <span>${p.rate}</span>
                </div>
                <p class="text-sm text-stone-500 mt-2">${p.strategy}</p>
            </div>
        `;
    });

    const budgetCtx = document.getElementById('budgetChart').getContext('2d');
    new Chart(budgetCtx, {
        type: 'doughnut',
        data: {
            labels: AppData.budget.labels,
            datasets: [{
                label: 'é ç®—åˆ†é…',
                data: AppData.budget.data,
                backgroundColor: [
                    '#0D9488', // teal-600
                    '#14B8A6', // teal-500
                    '#5EEAD4', // teal-300
                    '#99F6E4', // teal-200
                    '#FDE68A', // amber-200
                    '#FCD34D'  // amber-300
                ],
                borderColor: '#FFFCF5',
                borderWidth: 4
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'bottom',
                },
                tooltip: {
                    callbacks: {
                        label: function(context) {
                            let label = context.label || '';
                            if (label) {
                                label += ': ';
                            }
                            if (context.parsed !== null) {
                                label += new Intl.NumberFormat('zh-TW', { style: 'currency', currency: 'TWD', minimumFractionDigits: 0 }).format(context.parsed);
                            }
                            return label;
                        }
                    }
                }
            }
        }
    });

    const workbookContainer = document.getElementById('workbook-content');
    AppData.workbook.forEach(item => {
        let contentHtml = '';
        if (item.type === 'intro' || item.type === 'story' || item.type === 'question') {
            contentHtml = `<p class="text-stone-600 flex-grow">${item.content}</p>`;
        } else if (item.type === 'bingo') {
            const itemsHtml = item.items.map(bingoItem => 
                `<button class="bingo-item bg-white text-stone-600 p-2 rounded-md text-sm hover:bg-teal-100 transition-colors">${bingoItem}</button>`
            ).join('');
            contentHtml = `<div class="grid grid-cols-3 gap-2 flex-grow">${itemsHtml}</div>`;
        } else if (item.type === 'checklist') {
             const itemsHtml = item.items.map(checkItem => 
                `<label class="flex items-center space-x-2 text-stone-700">
                    <input type="checkbox" class="h-4 w-4 rounded border-gray-300 text-teal-600 focus:ring-teal-500">
                    <span>${checkItem}</span>
                </label>`
            ).join('');
            contentHtml = `<div class="space-y-2 flex-grow">${itemsHtml}</div>`;
        } else if (item.type === 'quiz') {
            contentHtml = `
                <p class="text-stone-600 mb-4 flex-grow">${item.question}</p>
                <button class="quiz-btn bg-teal-500 text-white px-4 py-2 rounded-lg hover:bg-teal-600 transition-colors text-sm">é»æˆ‘çœ‹ç­”æ¡ˆ</button>
                <p class="quiz-answer hidden mt-2 p-2 bg-teal-100 rounded-md text-teal-800">${item.answer}</p>
            `;
        }

        workbookContainer.innerHTML += `
            <div class="workbook-card">
                <h4 class="text-xl font-bold text-stone-800 flex items-center mb-4">${item.icon} <span class="ml-2">${item.title}</span></h4>
                ${contentHtml}
            </div>
        `;
    });

    workbookContainer.addEventListener('click', e => {
        if (e.target.classList.contains('quiz-btn')) {
            const answer = e.target.nextElementSibling;
            answer.classList.toggle('hidden');
            e.target.textContent = answer.classList.contains('hidden') ? 'é»æˆ‘çœ‹ç­”æ¡ˆ' : 'éš±è—ç­”æ¡ˆ';
        }
        if (e.target.classList.contains('bingo-item')) {
            e.target.classList.toggle('bg-teal-200');
            e.target.classList.toggle('font-bold');
        }
    });
    
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');
    mobileMenuButton.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
    });

    const navLinks = document.querySelectorAll('.nav-link');
    const sections = document.querySelectorAll('main section');
    window.addEventListener('scroll', () => {
        let current = '';
        sections.forEach(section => {
            const sectionTop = section.offsetTop;
            if (pageYOffset >= sectionTop - 70) {
                current = section.getAttribute('id');
            }
        });

        navLinks.forEach(link => {
            link.classList.remove('active');
            if (link.getAttribute('href').includes(current)) {
                link.classList.add('active');
            }
        });
    });
});
</script>

</body>
</html>
